---
import { getBackgroundColor, getTextColor, getPaddingClass } from '@utils/styleUtils';
import type { ThemeColor, PaddingSize } from '@utils/styleUtils';
import { siteConfig } from '@data/config';
import { Mail, Phone, MapPin } from 'lucide-astro';
import { Image } from 'astro:assets';

  
import mapImage from '../../assets/images/map.jpg';

export interface Props {
    content?: {
        title?: string;
        description?: string;
    };
    background?: ThemeColor;
    padding?: PaddingSize;
    paddingTop?: PaddingSize;
    paddingBottom?: PaddingSize;
}

const {
    content,
    background = 'base',
    padding,
    paddingTop,
    paddingBottom
} = Astro.props;

const bgColor = getBackgroundColor(background);
const textColor = getTextColor(background);
const paddingClass = getPaddingClass({ padding, paddingTop, paddingBottom });

const mapUrl = `https://www.google.com/maps/search/?api=1&query=-32.4783729,-61.5705029`;

---

<section class:list={[bgColor, paddingClass, "flex items-center py-12 md:py-20"]}>
    <div class="site-container px-4 w-full">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <!-- Información de contacto -->
            <div class="space-y-6">
                <h2 class:list={[textColor, "text-4xl font-bold"]}>
                    {content?.title || "Contacto y Ubicación"}
                </h2>
                <p class:list={[textColor, "text-lg"]}>
                    {content?.description || "Contactá a Cefem – Centro Familiar de Especialidades Médicas en Las Rosas para turnos o consultas. Ya sea que necesites solicitar turnos para pediatría o para cualquier otra de nuestras especialidades, nuestro equipo te atenderá con experiencia y dedicación."}
                </p>
                <div class:list={["flex flex-col gap-4 mt-4", textColor]}>
                    <div class="flex items-center gap-3 text-lg">
                        <Mail aria-hidden="true" class="w-6 h-6" /> 
                        <span class="font-medium">{siteConfig.Socials.Email}</span>
                    </div>
                    <div class="flex items-center gap-3 text-lg">
                        <Phone aria-hidden="true" class="w-6 h-6" /> 
                        <a href={`tel:${siteConfig.Socials.Phone}`} class="underline hover:text-primary">{siteConfig.Socials.Phone}</a>
                    </div>
                    <div class="flex items-center gap-3 text-lg">
                        <MapPin aria-hidden="true" class="w-6 h-6" /> 
                        <a href={mapUrl} target="_blank" rel="noopener" class="underline hover:text-primary">
                            {siteConfig.Socials.Location}
                        </a>
                    </div>
                </div>
            </div>

            <!-- Mapa Estático Clickeable -->
            <div class="w-full h-auto rounded-lg overflow-hidden shadow-lg">
                <a href={mapUrl} target="_blank" rel="noopener noreferrer" aria-label="Ver ubicación en Google Maps">
                    <Image 
                        src={mapImage} 
                        alt={`Mapa de la ubicación de ${siteConfig.companyName}`}
                        width={800}
                        height={600}
                        format="webp"
                        quality={80}
                        class="hover:scale-105 transition-transform duration-300 w-full h-full object-cover"
                    />
                </a>
            </div>
        </div>
    </div>
</section>
